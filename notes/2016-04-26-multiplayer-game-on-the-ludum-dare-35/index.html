<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Multiplayer Game on the Ludum Dare 35</title>
  <meta name="description" content="" />

  <link rel="stylesheet" href="/styles/index.css">
  <link rel="stylesheet" href="/styles/katex.min.css">
</head>

<body>
  <nav>
    <ul>
      <li><a class="internal-link" href="/"><b>Ilya&#39;s digital garden</b></a></li>
      <li><a class="internal-link" href="https://cv.senior-sigan.net/">CV</a></li>
      <li><a class="internal-link" href="/talks">Talks</a></li>
      <li><a class="internal-link" href="/notes">Notes</a></li>
    </ul>
  </nav>

  <div class="wrapper">
    <main>
<article>
  <div>
    <h1>Multiplayer Game on the Ludum Dare 35</h1>
    <time datetime="2016-04-26">26 Apr 2016</time>
  </div>

  <div id="notes-entry-container">
    <content>
      <p>That's our 9th Ludum Dare, so we decided to make something challenging this time. We've tried to create multiplayer action-horror-shooter thingy with two characters trying to kill each other. One is a werewolf (short-range attack, wide angle of view), another one is a hunter (long-range attack, small view angle and viewing distance). And yeah, that was pretty challenging indeed for some reasons.</p>
<p><img src="/assets/multiplayer-game-on-the-ludum-dare-35/ag624l2r8596cancum0v.jpg" alt=" "></p>
<h2>Networking</h2>
<p>We've made our first network game for LD#34. It was quite primitive, a peer-to-peer game for two players. But it proved that our team can handle network-game-specific issues and make network game at least playable. This time we decided to go further and create a server which would interconnect all game instances into pairs. That is still quite simple client-server architecture, but it required lots of time to implement and some knowledge of websockets magic.</p>
<p><img src="/assets/multiplayer-game-on-the-ludum-dare-35/jmfqgwma6k1jhibzg5pz.gif" alt=" "></p>
<h2>Dynamic shadows</h2>
<p>Our game is based on LibGDX engine which is quite simple and, of course, doesn't have any built-in shadow support. So, shadows were made using a bunch of black triangles, dozens of math and sorting obstacles by distance, from farther to closer.</p>
<p><img src="/assets/multiplayer-game-on-the-ludum-dare-35/fc21bm8gb6sq6cb1pa32.png" alt=" "></p>
<h2>Collisions detection</h2>
<p>Trigonometry magicCharacters should not go through trees, right? LibGDX has built-in box2d engine support, but for such simple task, it adds so much overhead to code that we decided to make everything on our own. That required some math too, and sometimes led to funny bugs such as trees making you stuck inside them and tear you apart.</p>
<p><img src="/assets/multiplayer-game-on-the-ludum-dare-35/wbat2vb8o2g8y99o4sx7.jpeg" alt=" "></p>
<h2>Soft torch beam effect</h2>
<p>Dynamic shadowsIt may look simple. But inside it carries some OpenGL vertex and fragment shaders magic. One of us spent 5 hours or something making this effect look properly and be configurable too. This soft-beam torch effect could be also achieved with gradient transparent bitmap, but it would be less challenging and less funny to make.</p>
<p><img src="/assets/multiplayer-game-on-the-ludum-dare-35/2ahpcg84vfzxsfzkz7wi.gif" alt=" "></p>
<h2>Balancing and small details</h2>
<p>After basic game mechanics was complete, we decided to add some more features to fix the game balance and make it more interesting to play. First, we've made a wolf jump over the trees to compensate hunter's advantage in attack range, and then we've added traces to our characters to help them find each other in the dark forest. To balance a game a bit more, we've added sounds of characters' steps so players could hear each other walking. This also makes a game more atmospheric.</p>
<p><img src="/assets/multiplayer-game-on-the-ludum-dare-35/27jo9zq7p9as61itbdhj.jpeg" alt=" "></p>
<p>After all, we are completely happy with the result and we hope you'll enjoy playing this. It's hard to find opponent sometimes, so be ready to grab your friend and play with him over the Internet.</p>
<p>We also had a page with game statistics and Telegram chat for everyone who wants to receive notifications about active players waiting for an opponent.</p>
<p><img src="/assets/multiplayer-game-on-the-ludum-dare-35/bipv1x0897exsz3j3nu0.png" alt=" "></p>
<p>You can download and play our game from <a href="https://catinthedark.itch.io/za-bochok">here</a>.</p>
<p>Gameplay video:</p>
<iframe src="https://www.youtube.com/embed/X_CfocY6BvQ" width="640" height="360" frameborder="0" allow="picture-in-picture" allowfullscreen>Gameplay video</iframe>
<p>Also we have a development timelapse.</p>
<iframe src="https://www.youtube.com/embed/qkEgv-Azkxk" width="640" height="360" frameborder="0" allow="picture-in-picture" allowfullscreen>Development timelapse</iframe>
<p><em><a href="https://medium.com/cat-in-the-dark/multiplayer-game-on-the-ludum-dare-35-jam-oh-rly-77d5dd04d51c">originally posted on medium in 2016–04–26</a> by <a href="https://medium.com/@KirillLeyfer">Kirill Leyfer</a> and <a href="https://dev.to/senior_sigan">Ilya Siganov</a></em></p>
    </content>
  </div>
</article></main>
  </div>
</body>

</html>