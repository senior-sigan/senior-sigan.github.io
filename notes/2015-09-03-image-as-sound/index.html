<!DOCTYPE html>
<html lang="">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Изображение как звук</title>
  <meta name="description" content="" />
  <!-- Yandex.Metrika counter -->
<meta name="yandex-verification" content="721d8d42ba7b40bb" />
<script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();
    for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
    k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");
 
    ym(91297055, "init", {
         clickmap:true,
         trackLinks:true,
         accurateTrackBounce:true
    });
 </script>
 <noscript><div><img src="https://mc.yandex.ru/watch/91297055" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
 <!-- /Yandex.Metrika counter -->

  <link rel="stylesheet" href="/styles/index.css">
  <link rel="stylesheet" href="/styles/katex.min.css">
</head>

<body>
  <nav>
    <ul>
      <li><a class="internal-link" href="/"><b>Ilya&#39;s digital garden</b></a></li>
      <li><a class="internal-link" href="/talks">Talks</a></li>
      <li><a class="internal-link" href="/notes">Notes</a></li>
    </ul>
  </nav>

  <div class="wrapper">
    <main>
<article>
  <div>
    <h1>Изображение как звук</h1>
    <time datetime="2015-09-03">03 Sep 2015</time>
  </div>

  <div id="notes-entry-container">
    <content>
      <p>А что будет если над изображением применить не обычные фильтры или спецэффекты из фотошопа, а аудио эффекты из звукового редактора, например, эхо, реверберация, эквалайзер, увеличить низкие или верхние частоты. Может быть интересно. Но как это сделать? Располагайтесь по-удобнее, сейчас на ваших глазах будет происходить магия преобразования форматов данных.</p>
<h2>Матчасть</h2>
<p>Чтобы применять над изображением фильтры аудио, нужно уметь сохранять и открывать изображения как звуковые файлы. Напрямую это сделать невозможно. Но в таких программах как Gimp и Audacity есть возможность работать с так называемыми сырыми данными без заголовков.</p>
<p><img src="/assets/image-as-sound/563fhrnu9rzw8pi1svrk.png" alt="ffd8ff">
<em>Магическая последовательность ffd8ff означает, что это jpeg.</em></p>
<p>Обычно в заголовках всегда описан формат данных, чтобы программы могли понимать как интерпретировать бинарные данные из полезной нагрузки. Если же мы сохраним только данные из полезной нагрузки, то получим сырые данные без заголовка(raw), которые можно интерпретировать как угодно.</p>
<p>Чтобы сохранить картинку в формате raw, откроем ее в gimp и экспортируем как Raw Image Data с расширением .data. Выберем режим сохранения RGB Planar, т.е. в файле сначала будет идти значения яркостей пикселей канала Red, далее Green и Blue.</p>
<p><img src="/assets/image-as-sound/72ml0czv3uke1q4iuty4.png" alt=""></p>
<p>В Audacity импортируем .data файл. Кодирование выбираем U-Law, без учёта байтового порядка, одноканальный режим.</p>
<h2>Басы</h2>
<p>Начнем с простого эффекта — увеличим басы в картинке.</p>
<p><img src="/assets/image-as-sound/9xfamigwqqeidva0o0yz.jpeg" alt="Исходное изображение">
<em>Исходное изображение</em></p>
<p>Применим увеличение басов.</p>
<p><img src="/assets/image-as-sound/hjq5kjw3htv003g17do3.jpeg" alt="Увеличенные басы"></p>
<h2>Эхо</h2>
<p>Эхо-эффект — один или несколько сигналов задержанные во времени с затуханием добавляются к существующему сигналу. Интересно посмотреть как это выглядит. Выставим время задержки 2 секунды и коэффициент затухания 0.3.</p>
<p><img src="/assets/image-as-sound/0z8gubnemmtxwpl7kcif.jpeg" alt="Исходное изображение"></p>
<p><img src="/assets/image-as-sound/3ec2hmkaeoyz0hxv6ls0.jpeg" alt="Эффект Эхо"></p>
<p><img src="/assets/image-as-sound/e1gw2l0nduhw28t1xf6b.jpeg" alt="Эффект Эхо"></p>
<h2>Реверберация</h2>
<p>Реверберация — это процесс постепенного уменьшения интенсивности звука при его многократных отражениях.</p>
<p><img src="/assets/image-as-sound/o0jg8fnbli3lwkys3ekm.jpeg" alt="Эффект реверберации"></p>
<p>Есть еще куча всяких разных звуковых эффектов. А еще можно по-разному сохранять в raw-формат данные — planar RGB, просто RGB, RGB с альфа каналом, режим BMP. Можно по-другому импортировать raw-данные в звуковой редактор. В общем экспериментировать можно очень много. В следующих постах этой серии я покажу, что бывает в случае ошибки экспортирования, как сжатие влияет на данные и другие интересные опыты.</p>
<p><a href="https://medium.com/%D0%B7%D0%B2%D1%83%D0%BA%D0%B8-%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D1%8B/%D0%BD%D0%B0%D0%B3%D0%BB%D1%8F%D0%B4%D0%BD%D0%B0%D1%8F-%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D1%81%D0%B8%D0%B3%D0%BD%D0%B0%D0%BB%D0%BE%D0%B2-c5a313765e04">Следующий пост</a></p>
    </content>
  </div>
</article></main>
  </div>
</body>

</html>