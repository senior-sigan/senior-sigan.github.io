<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta property="og:site_name" content="Ilya&#39;s digital garden">

  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgo=">

  <link rel="stylesheet" href="/app.css">

  
  <meta property="og:title" content="Эксперименты с картинками">
  <meta property="og:type" content="article">
  

  
  <meta property="article:published_time" content="">
  <meta property="article:author" content="/">
  

  <title>
    Эксперименты с картинками
  </title>

  
</head>

<body>
  <nav><ul>
    <li><a class="internal-link" href="/"><b>Ilya&#39;s digital garden</b></a></li>
    <li><a class="internal-link" href="/about.html">About</a></li>
    <li><a class="internal-link" href="/archive.html">Archive</a></li>
</ul></nav>
  <div class="wrapper">
    <main>

<article>
  <div>
    <h1>Эксперименты с картинками</h1>
    
    <time datetime="2013-03-31T21:48:00+06:00">
      Created on Mar 31, 2013
    </time>
    
  </div>

  <div id="notes-entry-container">
    <content>
      <p>Я изучаю Си и библиотеку imagemagic. Вот что из этого вышло:</p>
<ul>
<li><a class="wikilink" href="/2013-04-01-imagemagick-experiments-1">2013-04-01-imagemagick-experiments-1</a></li>
<li><a class="wikilink" href="/2013-04-02-imagemagick-experiments-2">2013-04-02-imagemagick-experiments-2</a></li>
<li><a class="wikilink" href="/2013-04-03-imagemagick-experiments-3">2013-04-03-imagemagick-experiments-3</a></li>
<li><a class="wikilink" href="/2013-04-05-imagemagick-experiments-4">2013-04-05-imagemagick-experiments-4</a></li>
<li><a class="wikilink" href="/2013-04-08-imagemagick-experiments-5">2013-04-08-imagemagick-experiments-5</a></li>
<li><a class="wikilink" href="/2013-04-09-imagemagick-experiments-6">2013-04-09-imagemagick-experiments-6</a></li>
<li><a class="wikilink" href="/2013-04-24-imagemagick-experiments-7">2013-04-24-imagemagick-experiments-7</a></li>
<li><a class="wikilink" href="/2013-05-04-imagemagick-experiments-8">2013-05-04-imagemagick-experiments-8</a></li>
<li><a class="wikilink" href="/2013-05-16-imagemagick-experiments-9">2013-05-16-imagemagick-experiments-9</a></li>
<li><a class="wikilink" href="/2015-09-03-image-as-sound">2015-09-03-image-as-sound</a></li>
</ul>
    </content>

    <side style="font-size: 0.9em">
    
</side>

  </div>
</article>

<hr>

<p>Here are all the notes in this garden, along with their links, visualized as a graph. <i>(Use ctrl + scroll to zoom
    in-out)</i></p>

<script src="/scripts/libs/d3.min.js"></script>

<div id="graph-wrapper"></div>
<aside id="link-preview-block">
    
    <div style="opacity: 0; display: none;" class="tooltip-wrapper" data-page-url="/2013-04-01-imagemagick-experiments-1">
        <div class="tooltip-content">
            <h1>Эксперимент с картинками №1</h1>
            <content>
                <p>Фуууф, ребята. Опоздал к пятнице сделать, так хоть 1 апреля выложу. На днях мне пришла странная идея-умножать картинки. Ну как матрицы, вы в курсе. Так вот, пришлось сегодня вечерком быстренько поверхностно изучить библиотеку ImageMagick для Си и написать на коленке прогу без очистки памяти и прочего.</p>
<h2>Меняем местами</h2>
<p>Итак. Начинаем с простого - поменять RGB местами, например BRG или еще как. Оказывается это очень клево выглядит(да, такое в фотошопе наверное 10 лет назад есть).
Берём Марселину</p>
<p><img alt="Исходное изображение" src="/assets/imagemagick-experiments-1/c1cv9n3srwxx7kr1r6nm.jpg" /></p>
<p>Получили синенькую Марселину. Няяяя</p>
<p><img alt="Трансформированное изображение" src="/assets/imagemagick-experiments-1/4gio3ung8j96d4wg9xui.jpg" /></p>
<p>Клевая тачка желтого цвета. Надо перекрасить.</p>
<p><img alt="Исходное изображение" src="/assets/imagemagick-experiments-1/6kcmzkfuyndwy4o997fx.jpg" /></p>
<p>Получилось круче, чем было.</p>
<p><img alt="Трансформированное изображение" src="/assets/imagemagick-experiments-1/q0426ldnmz5d609cndga.jpg" /></p>
<h2>XOR</h2>
<p>Далее. По просьбам друзей впилил XOR. Но это совсем не интересно, результат вполне ожидаем.</p>
<p><img alt="Изображение A" src="/assets/imagemagick-experiments-1/zhla5l9d0jkblq3xvdbf.jpg" /></p>
<p>Применяем XOR со второй картинкой.</p>
<p><img alt="Изображение B" src="/assets/imagemagick-experiments-1/izwpqkylp48v7gxcjq83.jpg" /></p>
<p>Получаем после XOR.</p>
<p><img alt="A xor B" src="/assets/imagemagick-experiments-1/svw576nz25jfn00ors49.jpg" /></p>
<p>Очевидно это просто наложение картинок. Ну так немного вещественно.</p>
<h2>Вычитание</h2>
<p>Подумал я после XOR — А что если вычитать цвета? Получилось еще вещественнее.</p>
<p><img alt="A - B" src="/assets/imagemagick-experiments-1/wcqhllaxij6piwi1dh5i.jpg" /></p>
<h2>Умножение</h2>
<p>И таки да. быстро написав построчечное умножение матриц, умножил картинку саму на себя. Ожидания оправдались. ПОЛУЧИЛОСЬ ШЕДЕВРАЛЬНО.</p>
<p>Берём квадратную картинку, для простоты. И умножаем на саму себя.</p>
<p><img alt="Исходное изображение" src="/assets/imagemagick-experiments-1/epqlanhlsug9eezb91d0.jpg" /></p>
<p>Результат умножения картинки саму на себя. Черт возьми, да это же офигенно. Я давно не видел такой игры цвета и формы. Как изящно верх картинки косплеет под баркод. Ах.</p>
<p><img alt="Умноженное матрично изображение на себя" src="/assets/imagemagick-experiments-1/sfnfj9pu5jpyt60r808s.jpg" /></p>
<h2>Исходники</h2>
<p><a href="https://gist.github.com/senior-sigan/5285689">https://gist.github.com/senior-sigan/5285689</a></p>
            </content>
        </div>
    </div>
    
    <div style="opacity: 0; display: none;" class="tooltip-wrapper" data-page-url="/2013-04-02-imagemagick-experiments-2">
        <div class="tooltip-content">
            <h1>Эксперимент с картинками №2</h1>
            <content>
                <p>Сегодня была чудесная лекция по теории вероятностей. Там было что-то про ЦЕНТРАЛЬНУЮ ПРЕДЕЛЬНУЮ ТЕОРЕМУ, но не это важно. Главное то, что меня накрыло, что я понял!!! Нужно сравнить две картинки между собой.</p>
<h2>Сравнение картинок</h2>
<p>Итак найдем какая из картинок больше другой!
И самое интересное. Я решил расставить все штрихи в кси( ξ). Сравниваем, что лучше аниме или обычное жалкое тридэ.
Берём странную картинку кубиков.</p>
<p><img alt="Alt Text" src="/assets/imagemagick-experiments-2/0jgo1gfzdlv8x9xtex6v.jpeg" /></p>
<p>И милую картинку танцующих фигурок оригами.</p>
<p><img alt="Alt Text" src="/assets/imagemagick-experiments-2/2vy54l3snollrp0vjel4.jpeg" /></p>
<p>Получаем такое чудо.</p>
<p><img alt="Alt Text" src="/assets/imagemagick-experiments-2/xcnw4h2fhe6lwih37873.jpeg" /></p>
<p>Действительно очень красиво вышло. Это не просто какой-то xor или вычитание. А нежное сочетание цветов.</p>
<h2>Аниме vs ТриДэ</h2>
<p>Берём тридэ девушку, которая косплеит индианку.</p>
<p><img alt="Alt Text" src="/assets/imagemagick-experiments-2/5xutv662nvuyqaca782r.jpeg" /></p>
<p>И анимешную няшу.</p>
<p><img alt="Alt Text" src="/assets/imagemagick-experiments-2/156acf6d26v0yyxt9cs7.jpeg" /></p>
<p>В итоге получаем. Аниме побеждает с огромным отрывом. Ура!!</p>
<p><img alt="Alt Text" src="/assets/imagemagick-experiments-2/k87r0mfbdhaxxmoeg16m.jpeg" /></p>
<h2>Исходники</h2>
<p><a href="https://gist.github.com/senior-sigan/5293378">https://gist.github.com/senior-sigan/5293378</a></p>
            </content>
        </div>
    </div>
    
    <div style="opacity: 0; display: none;" class="tooltip-wrapper" data-page-url="/2013-04-24-imagemagick-experiments-7">
        <div class="tooltip-content">
            <h1>Эксперимент с картинками №7</h1>
            <content>
                <p>Продолжаем творить велосипеды, самокаты, драндулеты и прочие штуки. Отвлечемся от искажения цвета и поэкспериментируем над позициями пикселей.</p>
<h2>Инвертирование</h2>
<p>Каждую нечетную строку инвертируем-ну тут совсем скучно, разве что это не обычное зеркальное наложение. Рассмотрите в оригинале, очень интересный эффект с вертикальными полосами.</p>
<p><img alt="Инвертированные картинки" src="/assets/imagemagick-experiments-7/ccvtxi3ffocfl2pohwx5.jpeg" /></p>
<h2>Смещение</h2>
<p>Смещение с коэффициентом. А тут весело, получается какое-то там размазывание, не помню как это называется в фотошопе.
В след раз попытаюсь осилить и сделаю метро интерфейс из картинки ;)</p>
<p><img alt="Смещение с коэффициентом 10" src="/assets/imagemagick-experiments-7/5c1n02llufnre9puls8d.jpeg" />
<em>Смещение с коэффициентом 10</em></p>
<p>Моя любимая машинка размазалась полностью. Грусть-тоска T_T</p>
<p><img alt="Смещение с коэффициентом 1000" src="/assets/imagemagick-experiments-7/mr1ez8uhj9gx3hlocz2w.jpeg" />
<em>Смещение с коэффициентом 1000</em></p>
<p>В следующей части разбиение картинки на квадраты произвольного цвета и размера.</p>
<h2>Исходники</h2>
<p><a href="https://github.com/senior-sigan/magick/blob/master/diffusion.h">https://github.com/senior-sigan/magick/blob/master/diffusion.h</a></p>
            </content>
        </div>
    </div>
    
    <div style="opacity: 0; display: none;" class="tooltip-wrapper" data-page-url="/2013-04-09-imagemagick-experiments-6">
        <div class="tooltip-content">
            <h1>Эксперимент с картинками №6</h1>
            <content>
                <p>Сегодня был очень длинный день. Поэтому для поддержания себя в бодром состоянии, я написал следующий сценарий искажения фоток. Вас ждет снова много “вещественных” преобразований. Надеюсь, я придумаю как делать фотки пастельными, а не мерзео-эпилептическими. Итак, сегодня на очереди — применение функций от координат на насыщенность каналов. Кто хочет- может посмотреть исходники, я там замутил массив указателей на функции. Описания под картинками.</p>
<h2>X/Y</h2>
<p>Значение канала * (x/y). Только вот незадача. Я не перевёл во float, поэтому видны резкие границы разделения.</p>
<p><img alt="(int)(x/y)" src="/assets/imagemagick-experiments-6/gn61wklfmmftg3ep5atf.jpeg" /></p>
<p>Теперь плавное использвание x/y.</p>
<p><img alt="(float)(x/y)" src="/assets/imagemagick-experiments-6/c342x0p7a7z3kc62s79p.jpeg" /></p>
<h2>Логарифм</h2>
<p>Логарифм произведения координат <code>log(x*y)</code>. По-моему это самый прикольный результат.</p>
<p><img alt="log(x*y)" src="/assets/imagemagick-experiments-6/n6v3rsl1vvo00ji4oqf9.jpeg" /></p>
<p>А что если взять log(x/y)?</p>
<p><img alt="log(x/y)" src="/assets/imagemagick-experiments-6/3gfyi9wnv7z6dwhif365.jpeg" /></p>
<p>Ещё один экземпляр. (прим. времени — через 2 года уже не могу вспомнить, что тут за функция. Имя файла xyyx.)</p>
<p><img alt="xyyx" src="/assets/imagemagick-experiments-6/0ndg0khoqxeudglswu9j.jpeg" /></p>
<h2>Sin</h2>
<p>Quant<em>sin(x</em>y). Советую открыть оригинал и приблизить. Зрелище ооооочень странное.</p>
<p><img alt="Quant*sin(x*y)" src="/assets/imagemagick-experiments-6/wjjzi8e8uo52qqic5yco.jpeg" /></p>
<p>Тоже синус, но с более слабыми коэффициентами.</p>
<p><img alt=" " src="/assets/imagemagick-experiments-6//dv0ospy750vqf5vs8stp.jpeg" /></p>
<p>В следующей серии я покажу что будет если не менять цвет пикселей, а менять их местами.</p>
<h2>Исходники</h2>
<p><a href="https://github.com/senior-sigan/magick/blob/master/function.h">https://github.com/senior-sigan/magick/blob/master/function.h</a></p>
            </content>
        </div>
    </div>
    
    <div style="opacity: 0; display: none;" class="tooltip-wrapper" data-page-url="/2015-09-03-image-as-sound">
        <div class="tooltip-content">
            <h1>Изображение как звук</h1>
            <content>
                <p>А что будет если над изображением применить не обычные фильтры или спецэффекты из фотошопа, а аудио эффекты из звукового редактора, например, эхо, реверберация, эквалайзер, увеличить низкие или верхние частоты. Может быть интересно. Но как это сделать? Располагайтесь по-удобнее, сейчас на ваших глазах будет происходить магия преобразования форматов данных.</p>
<h2>Матчасть</h2>
<p>Чтобы применять над изображением фильтры аудио, нужно уметь сохранять и открывать изображения как звуковые файлы. Напрямую это сделать невозможно. Но в таких программах как Gimp и Audacity есть возможность работать с так называемыми сырыми данными без заголовков.</p>
<p><img alt="ffd8ff" src="/assets/image-as-sound/563fhrnu9rzw8pi1svrk.png" />
<em>Магическая последовательность ffd8ff означает, что это jpeg.</em></p>
<p>Обычно в заголовках всегда описан формат данных, чтобы программы могли понимать как интерпретировать бинарные данные из полезной нагрузки. Если же мы сохраним только данные из полезной нагрузки, то получим сырые данные без заголовка(raw), которые можно интерпретировать как угодно.</p>
<p>Чтобы сохранить картинку в формате raw, откроем ее в gimp и экспортируем как Raw Image Data с расширением .data. Выберем режим сохранения RGB Planar, т.е. в файле сначала будет идти значения яркостей пикселей канала Red, далее Green и Blue.</p>
<p><img alt="" src="/assets/image-as-sound/72ml0czv3uke1q4iuty4.png" /></p>
<p>В Audacity импортируем .data файл. Кодирование выбираем U-Law, без учёта байтового порядка, одноканальный режим.</p>
<h2>Басы</h2>
<p>Начнем с простого эффекта — увеличим басы в картинке.</p>
<p><img alt="Исходное изображение" src="/assets/image-as-sound/9xfamigwqqeidva0o0yz.jpeg" />
<em>Исходное изображение</em></p>
<p>Применим увеличение басов.</p>
<p><img alt="Увеличенные басы" src="/assets/image-as-sound/hjq5kjw3htv003g17do3.jpeg" /></p>
<h2>Эхо</h2>
<p>Эхо-эффект — один или несколько сигналов задержанные во времени с затуханием добавляются к существующему сигналу. Интересно посмотреть как это выглядит. Выставим время задержки 2 секунды и коэффициент затухания 0.3.</p>
<p><img alt="Исходное изображение" src="/assets/image-as-sound/0z8gubnemmtxwpl7kcif.jpeg" /></p>
<p><img alt="Эффект Эхо" src="/assets/image-as-sound/3ec2hmkaeoyz0hxv6ls0.jpeg" /></p>
<p><img alt="Эффект Эхо" src="/assets/image-as-sound/e1gw2l0nduhw28t1xf6b.jpeg" /></p>
<h2>Реверберация</h2>
<p>Реверберация — это процесс постепенного уменьшения интенсивности звука при его многократных отражениях.</p>
<p><img alt="Эффект реверберации" src="/assets/image-as-sound/o0jg8fnbli3lwkys3ekm.jpeg" /></p>
<p>Есть еще куча всяких разных звуковых эффектов. А еще можно по-разному сохранять в raw-формат данные — planar RGB, просто RGB, RGB с альфа каналом, режим BMP. Можно по-другому импортировать raw-данные в звуковой редактор. В общем экспериментировать можно очень много. В следующих постах этой серии я покажу, что бывает в случае ошибки экспортирования, как сжатие влияет на данные и другие интересные опыты.</p>
<p><a href="https://medium.com/%D0%B7%D0%B2%D1%83%D0%BA%D0%B8-%D0%BA%D0%B0%D1%80%D1%82%D0%B8%D0%BD%D1%8B/%D0%BD%D0%B0%D0%B3%D0%BB%D1%8F%D0%B4%D0%BD%D0%B0%D1%8F-%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D1%81%D0%B8%D0%B3%D0%BD%D0%B0%D0%BB%D0%BE%D0%B2-c5a313765e04">Следующий пост</a></p>
            </content>
        </div>
    </div>
    
    <div style="opacity: 0; display: none;" class="tooltip-wrapper" data-page-url="/2013-04-08-imagemagick-experiments-5">
        <div class="tooltip-content">
            <h1>Эксперимент с картинками №5</h1>
            <content>
                <p>Специально для любителей острых ощущений. Сейчас вы станете свидетелями того как каждый “пиксель” влияет на следующий с разными коэффициентами.</p>
<p>Для простоты в данном эксперименте значение цвета предыдущего пикселя просто складывается со следующим с некоторым коэффициентом.</p>
<p><img alt="Коэффициент 0.5 — это только начало." src="/assets/imagemagick-experiments-5/ebg2b8tcd487z4j66mdm.jpeg" /></p>
<p><img alt="Коэффициент 0.7" src="/assets/imagemagick-experiments-5/3hpe29jwkyr8nnhzqbbu.jpeg" /></p>
<p><img alt="Коэффициент 0.8" src="/assets/imagemagick-experiments-5/mnns10ld8i6w6qi74dka.jpeg" /></p>
<p><img alt="Коэффициент 0.9" src="/assets/imagemagick-experiments-5/z3ztngzwb2s0acopl55e.jpeg" /></p>
<p>И самое весёлое 1.1. Почти белый шум. Как будто телевизор плохо показывает.</p>
<p><img alt="Коэффициент 1.1" src="/assets/imagemagick-experiments-5/jpph1wq06ctxldsqcvgb.jpeg" /></p>
<p>В следующей части мы применим некоторую функцию от координаты пикселя и его значением над изображением.</p>
<h2>Исходники</h2>
<p><a href="https://github.com/senior-sigan/magick/blob/master/dependence.h">https://github.com/senior-sigan/magick/blob/master/dependence.h</a></p>
            </content>
        </div>
    </div>
    
    <div style="opacity: 0; display: none;" class="tooltip-wrapper" data-page-url="/2013-05-04-imagemagick-experiments-8">
        <div class="tooltip-content">
            <h1>Эксперимент с картинками №8</h1>
            <content>
                <p>Привет!
Сегодня у нас уроки кирпичизма. Надеюсь m$oft не наедет на меня за использование прямоугольников. Итак, что будет если мы разобьем матрицу на много подматриц произвольной формы? А если при этом произведем какую-нибудь операцию над подматрицей? Так вот, написал я тут алгоритм, наверное очень тупо, так как картинку 1900*1200 он обрабатывает десяток секунд, который перемешивает каналы у данной подматрицы. Не переживайте, я разовью эту идею дальше и будет очень забавно.</p>
<h2>Генерация матриц</h2>
<p>Существует 2 вида подматриц- синие зеленые и красны. Размер выбирается как случайное число.</p>
<p><img alt=" " src="/assets/imagemagick-experiments-8/daegq1c3dbdvhgupp8y3.jpeg" /></p>
<p>А здесь размер выбирается как половина от ширины матрицы. Очевидно прогрессия <span class="arithmatex"><span class="MathJax_Preview"><span class="arithmatex"><span class="MathJax_Preview">\frac{1}{2})^n</span><script type="math/tex">\frac{1}{2})^n</script></span></span><script type="math/tex"><span class="arithmatex"><span class="MathJax_Preview">\frac{1}{2})^n</span><script type="math/tex">\frac{1}{2})^n</script></span></script></span>. Ну или почти такая. Не суть.</p>
<p><img alt=" " src="/assets/imagemagick-experiments-8/g3il2xvxdvl1hbqfntk9.jpeg" /></p>
<p>Теперь случайное перемешивание в подматрицах. Обычный рандом дает не очень клевый результат.</p>
<p><img alt=" " src="/assets/imagemagick-experiments-8/pdr32slb9rdg286vfi8u.jpeg" /></p>
<p>Тут волей случая первая подматрица оказалась очень большой. FIX IT!!!!
Вот то-то же. Нам нужен был true_random. Здесь выбирается средний размер квадратов с некоторой дельтой. Вот так красить машины надо. Это я понимаю искусство.</p>
<p><img alt=" " src="/assets/imagemagick-experiments-8/0o59xkji5ryopzodz2t1.jpeg" /></p>
<p>Теперь перекрасим няшку.</p>
<p><img alt=" " src="/assets/imagemagick-experiments-8/r06gl4lyb2iufc2ltwur.jpeg" /></p>
<blockquote>
<p>Тебя теперь интел засудит, у них вся реклама в таком стиле)</p>
</blockquote>
<h2>Смешивание картинок</h2>
<p>Нет времени объяснять, прямоугольники захватывают мир……………</p>
<p><img alt=" " src="/assets/imagemagick-experiments-8/swc95wnehq27ectw3t0c.jpeg" /></p>
<p>От сложения няшек, няшность не возросла T_T.</p>
<h2>Исходники</h2>
<p><a href="https://github.com/senior-sigan/magick/blob/master/brick.h">https://github.com/senior-sigan/magick/blob/master/brick.h</a></p>
            </content>
        </div>
    </div>
    
    <div style="opacity: 0; display: none;" class="tooltip-wrapper" data-page-url="/2013-05-16-imagemagick-experiments-9">
        <div class="tooltip-content">
            <h1>Эксперимент с картинками №9</h1>
            <content>
                <p>Продолжаем поиск чего-то необычного и вещественного.
В предыдущем посте я сделал “квадратное сложение” няшек. Настал час истины. Совершим же перекрёстное слияние няшек. И тут размер итогового изображения в два раза больше исходного. Для усиления умиления рекомендую смотреть как оригинал, а не превьюху!!!!</p>
<p><img alt="Alt Text" src="/assets/imagemagick-experiments-9/jvkjivomg6u8ozqmytsl.jpg" /></p>
<p>Дополнительный бонус. Идеальное вмешивание картинок.</p>
<p><img alt="Alt Text" src="/assets/imagemagick-experiments-9/flaj21d7bzk30zgt1s7i.jpeg" /></p>
<h2>Исходники</h2>
<p><a href="https://github.com/blan4/magick/blob/master/diffusion.h">https://github.com/blan4/magick/blob/master/diffusion.h</a></p>
            </content>
        </div>
    </div>
    
    <div style="opacity: 0; display: none;" class="tooltip-wrapper" data-page-url="/2013-04-03-imagemagick-experiments-3">
        <div class="tooltip-content">
            <h1>Эксперимент с картинками №3</h1>
            <content>
                <p>Нет времени объяснять-через 20 минут начинается тренировка. Просто выкладываю новую порцию картинок. Теперь я произвёл случайное перемешивание каналов.</p>
<p>Берем 3 канала RGB. Существует всего <span class="arithmatex"><span class="MathJax_Preview"><span class="arithmatex"><span class="MathJax_Preview">3! = 6</span><script type="math/tex">3! = 6</script></span></span><script type="math/tex"><span class="arithmatex"><span class="MathJax_Preview">3! = 6</span><script type="math/tex">3! = 6</script></span></script></span> возможных перестановок. Каждую перестановку выбираем с равными вероятностями <span class="arithmatex"><span class="MathJax_Preview"><span class="arithmatex"><span class="MathJax_Preview">\frac{1}{6}</span><script type="math/tex">\frac{1}{6}</script></span></span><script type="math/tex"><span class="arithmatex"><span class="MathJax_Preview">\frac{1}{6}</span><script type="math/tex">\frac{1}{6}</script></span></script></span>. То есть равномерное дискретное распределение. Ожидается, что картинка становится почти монохромной. Так и оказалось.</p>
<p><img alt="Перемешивание цветов. Увеличьте фотографию, для усиления эффекта." src="/assets/imagemagick-experiments-3/mvhog1p7ji8o5405se7z.jpeg" /></p>
<p><img alt="Перемешивание цветов. Увеличьте фотографию, для усиления эффекта." src="/assets/imagemagick-experiments-3/uc1hy1u30ivo9z3i1jhe.jpeg" /></p>
<h2>Мультик-преобразование</h2>
<p>Следующее преобразование- берем яркость канала, если она больше половины яркости, то делаем её максимальной, иначе минимальной. Я забыл как называется этот эффект, кто знает фотошоп скажите.</p>
<p>Усиление каналов. Получаем вроде всего 8 цветов — red green blue black white cyan magenta yellow.</p>
<p><img alt="Alt Text" src="/assets/imagemagick-experiments-3/mcu487go6pep9wfagsox.jpeg" /></p>
<p>Няшке опять не везет. Но когда-нибудь я найду эффект, который сделает картинку фееричной.</p>
<p><img alt="Alt Text" src="/assets/imagemagick-experiments-3/91qkynvbr9uh1jbyh0ow.jpeg" /></p>
<h2>Исходники</h2>
<p><a href="https://gist.github.com/senior-sigan/5301188">https://gist.github.com/senior-sigan/5301188</a></p>
            </content>
        </div>
    </div>
    
    <div style="opacity: 0; display: none;" class="tooltip-wrapper" data-page-url="/2013-04-05-imagemagick-experiments-4">
        <div class="tooltip-content">
            <h1>Эксперимент с картинками №4</h1>
            <content>
                <p>Пятница, и этим всё сказано. Насладимся же сортировкой изображения. Я написал построчечную сортировку каналов и полную. Некоторые результаты были весьма неожиданными, особенно segmentation fault, иногда :D.</p>
<h2>Частичная сортировка</h2>
<p>Начнем с сортировки красного канала. Напомню, что машина желтая. Выглядит как закат. Ну почти.</p>
<p><img alt="Сортировка по яркости красного канала" src="/assets/imagemagick-experiments-4/rpolbjcin7dc9r9y4d8h.jpeg" /></p>
<p>А теперь отправим синий канал в другую сторону.</p>
<p><img alt="Красный канал сортируется в правую сторону, синий — в левую" src="/assets/imagemagick-experiments-4/o1xdysi0xya3ivboyzp3.jpeg" /></p>
<p>Картинка всё еще похожа на оригинал. НУЖНО ИСПРАВИТЬ ЭТОТ НЕДОЧЕТ.</p>
<p><img alt=" " src="/assets/imagemagick-experiments-4/b99trvo3ja0t70gtlfdh.jpeg" /></p>
<p>Вот это я понимаю искусство. Полная сортировка всех каналов в левую сторону. Поздравляю. Так бы выглядела машина на десятой скорости света.
Мне так понравился эффект растаскивания цветов в разные стороны, что сделал еще несколько экземпляров.</p>
<p><img alt=" " src="/assets/imagemagick-experiments-4/41dq0cfm885rqwsr77go.jpeg" /></p>
<p>Хорошо, а вот еще одна подопытная няша. Отсортируем её полностью.</p>
<p><img alt=" " src="/assets/imagemagick-experiments-4/tfnxhtxyixm80m8rac49.jpeg" /></p>
<p>УПС. это не то чего я ожидал. Тьфу ты, перепутал сортировку. Часть каналов отсортирована полностью другая часть — нет. Короче я не понял, что тут произошло. Наверное баг в проге.</p>
<p><img alt=" " src="/assets/imagemagick-experiments-4/v9pbx8b8cns2wgps66q0.jpeg" /></p>
<p>Вот это другое дело. Полностью отсортированная картинка. Назовем её розовый градиент [s]Малевича[/s].
Это всё. В следующем выпуске я покажу как один пиксель может “сломать” всю картинку.</p>
<h2>Исходники</h2>
<p><a href="https://gist.github.com/senior-sigan/5319705">https://gist.github.com/senior-sigan/5319705</a></p>
            </content>
        </div>
    </div>
    

    <script src="/scripts/links_preview.js"></script>
</aside>

</main>
    <footer></footer>
  </div>
</body>

</html>